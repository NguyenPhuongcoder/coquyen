<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X√°c nh·∫≠n ƒë·∫∑t c·ªçc mua xe - CarShop</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="carshop-auth/style.css">
    
    <style>
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: #F5F5F5;
            color: #1A1A1A;
        }
        
        .corporate-card {
            background: #FFFFFF;
            border: 1px solid #E0E0E0;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
        }
        
        .corporate-card-header {
            border-bottom: 1px solid #E0E0E0;
            padding: 20px 24px;
            background: #FAFAFA;
        }
        
        .corporate-card-body {
            padding: 24px;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #F0F0F0;
        }
        
        .info-row:last-child {
            border-bottom: none;
        }
        
        .info-label {
            color: #666666;
            font-size: 14px;
            font-weight: 500;
        }
        
        .info-value {
            color: #1A1A1A;
            font-size: 14px;
            font-weight: 600;
            text-align: right;
        }
        
        .price-display {
            font-size: 32px;
            font-weight: 900;
            color: #1A1A1A;
            letter-spacing: -0.5px;
        }
        
        .deposit-amount {
            font-size: 22px;
            font-weight: 800;
            color: #D84315;
            letter-spacing: -0.3px;
        }
        
        .payment-method {
            border: 2px solid #D0D0D0;
            border-radius: 4px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: #FFFFFF;
        }
        
        .payment-method:hover {
            border-color: #999999;
            background: #FAFAFA;
        }
        
        .payment-method input:checked + label {
            border-color: #CB3634;
            background: #FFFFFF;
        }
        
        .btn-primary {
            background: #CB3634;
            color: #FFFFFF;
            font-weight: 700;
            font-size: 16px;
            padding: 16px 32px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: #B02E2B;
        }
        
        .btn-primary:disabled {
            background: #CCCCCC;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: #FFFFFF;
            color: #333333;
            font-weight: 600;
            font-size: 14px;
            padding: 12px 24px;
            border: 1px solid #D0D0D0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover {
            background: #F5F5F5;
            border-color: #999999;
        }
        
        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            background: #1E88E5;
            color: #FFFFFF;
            font-size: 12px;
            font-weight: 700;
            border-radius: 3px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .alert-box {
            background: #FFF9E6;
            border: 1px solid #FFE082;
            border-left: 4px solid #FFA000;
            padding: 16px;
            border-radius: 4px;
            font-size: 13px;
            line-height: 1.6;
            color: #333333;
        }
        
        .checkbox-container {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 20px;
            background: #F9F9F9;
            border: 1px solid #E0E0E0;
            border-radius: 4px;
        }
        
        .checkbox-container input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            cursor: pointer;
            accent-color: #CB3634;
        }
        
        .loading-overlay {
            background: rgba(0, 0, 0, 0.7);
        }
        
        .loading-spinner {
            border: 4px solid #F0F0F0;
            border-top: 4px solid #CB3634;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #1A1A1A;
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .divider {
            height: 1px;
            background: #E0E0E0;
            margin: 24px 0;
        }
        
        .saved-address-card:hover {
            border-color: #CB3634 !important;
            box-shadow: 0 2px 4px rgba(203, 54, 52, 0.1);
        }
    </style>
</head>
<body>

    <!-- HEADER - Simplified for deposit flow -->
    <header style="background: #FFFFFF; border-bottom: 2px solid #E0E0E0; position: sticky; top: 0; z-index: 50; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between" style="height: 72px;">
                <!-- Logo Only (not clickable to prevent navigation away) -->
                <div class="flex items-center gap-3">
                    <div style="width: 44px; height: 44px; background: #CB3634; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                        <svg style="width: 26px; height: 26px; color: #FFFFFF;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                    </div>
                    <div>
                        <div style="font-size: 22px; font-weight: 900; color: #1A1A1A; letter-spacing: -0.5px;">CarShop</div>
                        <div style="font-size: 11px; font-weight: 600; color: #999999; text-transform: uppercase; letter-spacing: 0.5px; margin-top: -2px;">X√°c nh·∫≠n ƒë·∫∑t c·ªçc</div>
                    </div>
                </div>
                
                <!-- Back Button -->
                <button onclick="window.history.back()" style="display: flex; align-items: center; gap: 10px; padding: 10px 20px; color: #666666; background: #F5F5F5; border: 1px solid #D0D0D0; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; transition: all 0.2s;">
                    <svg style="width: 18px; height: 18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    <span>Quay l·∫°i</span>
                </button>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main style="min-height: calc(100vh - 64px); padding: 48px 0; background: #F5F5F5;">
        <div class="container mx-auto px-4">
            
            <div style="max-width: 1200px; margin: 0 auto;">
                
                <!-- Page Header -->
                <div style="margin-bottom: 40px;">
                    <h1 style="font-size: 32px; font-weight: 900; color: #1A1A1A; margin-bottom: 8px; letter-spacing: -0.5px;">X√ÅC NH·∫¨N ƒê·∫∂T C·ªåC MUA XE</h1>
                    <p style="font-size: 15px; color: #666666; font-weight: 500;">Vui l√≤ng ki·ªÉm tra k·ªπ th√¥ng tin tr∆∞·ªõc khi x√°c nh·∫≠n ƒë·∫∑t c·ªçc</p>
                </div>

                <!-- Main Grid -->
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
                    
                    <!-- LEFT COLUMN: Car & Booking Info (3 cols) -->
                    <div class="lg:col-span-3" style="display: flex; flex-direction: column; gap: 24px;">
                        
                        <!-- Car Info Card -->
                        <div class="corporate-card">
                            <div class="corporate-card-header">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <h2 class="section-title" style="margin: 0;">Th√¥ng tin xe</h2>
                                    <span class="status-badge">ƒê√£ xem xe</span>
                                </div>
                            </div>
                            <div class="corporate-card-body">
                                <div style="display: flex; gap: 24px; margin-bottom: 24px;">
                                    <div style="width: 200px; height: 150px; flex-shrink: 0; border-radius: 4px; overflow: hidden; border: 1px solid #E0E0E0;">
                                        <img id="carImage" src="" alt="Car" style="width: 100%; height: 100%; object-fit: cover;">
                                    </div>
                                    <div style="flex: 1;">
                                        <p style="font-size: 12px; color: #999999; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">H√£ng xe</p>
                                        <p id="carBrand" style="font-size: 14px; color: #666666; font-weight: 600; margin-bottom: 12px;"></p>
                                        <p style="font-size: 12px; color: #999999; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">T√™n xe</p>
                                        <h2 id="carName" style="font-size: 24px; font-weight: 900; color: #1A1A1A; margin-bottom: 20px; letter-spacing: -0.5px;"></h2>
                                        <div style="padding-top: 16px; border-top: 1px solid #E0E0E0;">
                                            <p style="font-size: 12px; color: #999999; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">Gi√° b√°n</p>
                                            <p id="carPrice" class="price-display"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Booking Info -->
                        <div class="corporate-card">
                            <div class="corporate-card-header">
                                <h3 class="section-title" style="margin: 0;">Th√¥ng tin l·ªãch xem xe</h3>
                            </div>
                            <div class="corporate-card-body">
                                <div class="info-row">
                                    <span class="info-label">Ng√†y xem xe</span>
                                    <span id="bookingDate" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Gi·ªù h·∫πn</span>
                                    <span id="bookingTime" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Showroom</span>
                                    <span id="showroomName" class="info-value"></span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">ƒê·ªãa ch·ªâ</span>
                                    <span id="showroomAddress" class="info-value" style="max-width: 300px;"></span>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- RIGHT COLUMN: Deposit Form (2 cols) -->
                    <div class="lg:col-span-2" style="display: flex; flex-direction: column; gap: 24px;">
                        
                        <!-- Deposit Amount -->
                        <div class="corporate-card">
                            <div class="corporate-card-header">
                                <h3 class="section-title" style="margin: 0;">Th√¥ng tin ƒë·∫∑t c·ªçc</h3>
                            </div>
                            <div class="corporate-card-body">
                                <!-- Gi√° b√°n xe -->
                                <div class="info-row" style="padding: 10px 0;">
                                    <span class="info-label">Gi√° b√°n xe</span>
                                    <span id="priceDisplay" class="info-value" style="font-size: 15px; font-weight: 600; color: #333333;"></span>
                                </div>
                                
                                <!-- Ti·ªÅn ƒë·∫∑t c·ªçc - Highlighted but not aggressive -->
                                <div style="padding: 24px 0; margin: 20px 0; border-top: 2px solid #E0E0E0; border-bottom: 2px solid #E0E0E0;">
                                    <div style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 8px;">
                                        <div>
                                            <div style="font-size: 14px; font-weight: 700; color: #1A1A1A; margin-bottom: 4px;">
                                                Ti·ªÅn ƒë·∫∑t c·ªçc ‚Äì 10% gi√° xe 
                                                <span style="display: inline-block; background: #FFF5F5; color: #CB3634; font-size: 11px; font-weight: 700; padding: 3px 8px; border-radius: 3px; margin-left: 6px; font-style: italic;">Gi·ªØ xe</span>
                                            </div>
                                            <div style="font-size: 12px; color: #999999; font-weight: 500; font-style: italic;">
                                                M·ª©c ƒë·∫∑t c·ªçc ti√™u chu·∫©n theo quy ƒë·ªãnh showroom
                                            </div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div id="depositAmount" style="font-size: 22px; font-weight: 800; color: #D84315; letter-spacing: -0.3px;"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- S·ªë ti·ªÅn c√≤n l·∫°i -->
                                <div class="info-row" style="padding: 10px 0;">
                                    <div>
                                        <div class="info-label" style="margin-bottom: 4px;">S·ªë ti·ªÅn c√≤n l·∫°i</div>
                                        <div style="font-size: 11px; color: #999999; font-style: italic;">
                                            Thanh to√°n khi k√Ω h·ª£p ƒë·ªìng t·∫°i showroom
                                        </div>
                                    </div>
                                    <span id="remainingAmount" class="info-value" style="font-size: 15px; font-weight: 600; color: #666666;"></span>
                                </div>
                                
                                <div class="divider"></div>
                                
                                <!-- Alert box - Positive first, then constraint -->
                                <div class="alert-box">
                                    <div style="margin-bottom: 8px;">
                                        <strong>üí° √ù nghƒ©a ƒë·∫∑t c·ªçc:</strong> Ti·ªÅn ƒë·∫∑t c·ªçc nh·∫±m gi·ªØ xe v√† ƒë·∫£m b·∫£o quy·ªÅn ∆∞u ti√™n mua cho kh√°ch h√†ng.
                                    </div>
                                    <div style="font-size: 12px; line-height: 1.6; color: #666666;">
                                        Kho·∫£n ti·ªÅn c√≤n l·∫°i s·∫Ω ƒë∆∞·ª£c thanh to√°n khi k√Ω h·ª£p ƒë·ªìng mua b√°n t·∫°i showroom. Tr∆∞·ªùng h·ª£p kh√°ch h√†ng ƒë∆°n ph∆∞∆°ng h·ªßy giao d·ªãch, ti·ªÅn ƒë·∫∑t c·ªçc s·∫Ω kh√¥ng ƒë∆∞·ª£c ho√†n l·∫°i.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pickup Schedule -->
                        <div class="corporate-card">
                            <div class="corporate-card-header">
                                <h3 class="section-title" style="margin: 0;">Th√¥ng tin l·ªãch l·∫•y xe</h3>
                            </div>
                            <div class="corporate-card-body">
                                <!-- Pickup Date -->
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; font-size: 13px; font-weight: 700; color: #1A1A1A; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        Ng√†y d·ª± ki·∫øn l·∫•y xe <span style="color: #CB3634;">*</span>
                                    </label>
                                    <input 
                                        type="date" 
                                        id="pickupDate"
                                        class="form-input"
                                        style="width: 100%; padding: 12px 16px; border: 1px solid #D0D0D0; border-radius: 4px; font-size: 14px; font-weight: 500; color: #1A1A1A;"
                                        required
                                    >
                                    <div style="font-size: 12px; color: #666666; margin-top: 6px; font-style: italic;">
                                        üí° Th·ªùi gian l·∫•y xe c√≥ th·ªÉ thay ƒë·ªïi t√πy v√†o ti·∫øn ƒë·ªô ho√†n t·∫•t th·ªß t·ª•c.
                                    </div>
                                </div>

                                <!-- Pickup Time Slot -->
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; font-size: 13px; font-weight: 700; color: #1A1A1A; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        Khung gi·ªù l·∫•y xe <span style="color: #CB3634;">*</span>
                                    </label>
                                    <div style="display: flex; flex-direction: column; gap: 12px;">
                                        <div class="time-slot-option">
                                            <input type="radio" id="morning" name="timeSlot" value="morning" checked style="display: none;">
                                            <label for="morning" style="display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 12px 16px; border: 2px solid #CB3634; border-radius: 4px; background: #FFF5F5;">
                                                <div style="width: 20px; height: 20px; border: 2px solid #CB3634; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                    <div style="width: 10px; height: 10px; background: #CB3634; border-radius: 50%;" class="time-radio-dot"></div>
                                                </div>
                                                <span style="font-size: 14px; font-weight: 600; color: #1A1A1A;">Bu·ªïi s√°ng (08:00 ‚Äì 11:30)</span>
                                            </label>
                                        </div>
                                        
                                        <div class="time-slot-option">
                                            <input type="radio" id="afternoon" name="timeSlot" value="afternoon" style="display: none;">
                                            <label for="afternoon" style="display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 12px 16px; border: 2px solid #D0D0D0; border-radius: 4px; background: #FFFFFF;">
                                                <div style="width: 20px; height: 20px; border: 2px solid #D0D0D0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                    <div style="width: 10px; height: 10px; background: #CB3634; border-radius: 50%; display: none;" class="time-radio-dot"></div>
                                                </div>
                                                <span style="font-size: 14px; font-weight: 600; color: #1A1A1A;">Bu·ªïi chi·ªÅu (13:30 ‚Äì 17:00)</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Pickup Location -->
                                <div style="margin-bottom: 20px;">
                                    <label style="display: block; font-size: 13px; font-weight: 700; color: #1A1A1A; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        ƒê·ªãa ƒëi·ªÉm nh·∫≠n xe <span style="color: #CB3634;">*</span>
                                    </label>
                                    <div style="display: flex; flex-direction: column; gap: 16px;">
                                        <!-- Showroom Option -->
                                        <div class="location-option">
                                            <input type="radio" id="showroomPickup" name="pickupLocation" value="showroom" checked style="display: none;">
                                            <label for="showroomPickup" style="display: flex; gap: 16px; cursor: pointer; padding: 18px 20px; border: 2px solid #CB3634; border-radius: 8px; background: #FFF5F5; transition: all 0.2s ease; box-shadow: 0 2px 4px rgba(203, 54, 52, 0.1);">
                                                <div style="flex-shrink: 0;">
                                                    <div style="width: 24px; height: 24px; border: 2px solid #CB3634; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #FFFFFF;">
                                                        <div style="width: 12px; height: 12px; background: #CB3634; border-radius: 50%;" class="location-radio-dot"></div>
                                                    </div>
                                                </div>
                                                <div style="flex: 1;">
                                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                                        <svg style="width: 20px; height: 20px; color: #CB3634;" fill="currentColor" viewBox="0 0 20 20">
                                                            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                                                        </svg>
                                                        <span style="font-size: 15px; font-weight: 700; color: #1A1A1A;">Nh·∫≠n xe t·∫°i showroom CarShop Qu·∫≠n 1</span>
                                                    </div>
                                                    <div style="font-size: 13px; color: #666666; line-height: 1.5; padding-left: 28px;">
                                                        Mi·ªÖn ph√≠ ‚Äì Nh·∫≠n xe sau khi ho√†n t·∫•t th·ªß t·ª•c
                                                    </div>
                                                </div>
                                            </label>
                                        </div>
                                        
                                        <!-- Delivery Option -->
                                        <div class="location-option">
                                            <input type="radio" id="deliveryPickup" name="pickupLocation" value="delivery" style="display: none;">
                                            <label for="deliveryPickup" style="display: flex; gap: 16px; cursor: pointer; padding: 16px 20px; border: 1px solid #E0E0E0; border-radius: 8px; background: #FFFFFF; transition: all 0.2s ease;">
                                                <div style="flex-shrink: 0;">
                                                    <div style="width: 24px; height: 24px; border: 2px solid #D0D0D0; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #FFFFFF;">
                                                        <div style="width: 12px; height: 12px; background: #CB3634; border-radius: 50%; display: none;" class="location-radio-dot"></div>
                                                    </div>
                                                </div>
                                                <div style="flex: 1;">
                                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                                                        <svg style="width: 20px; height: 20px; color: #999999;" fill="currentColor" viewBox="0 0 20 20">
                                                            <path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/>
                                                            <path d="M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"/>
                                                        </svg>
                                                        <span style="font-size: 15px; font-weight: 600; color: #1A1A1A;">Giao xe t·∫≠n n∆°i</span>
                                                    </div>
                                                    <div style="font-size: 13px; color: #999999; line-height: 1.5; padding-left: 28px;">
                                                        Ph√≠ giao xe s·∫Ω ƒë∆∞·ª£c t∆∞ v·∫•n v√† x√°c nh·∫≠n sau
                                                    </div>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Delivery Address (shown when delivery is selected) -->
                                <div id="deliveryAddressSection" style="margin-bottom: 20px; display: none;">
                                    <label style="display: block; font-size: 13px; font-weight: 700; color: #1A1A1A; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        ƒê·ªãa ch·ªâ giao xe <span style="color: #CB3634;">*</span>
                                    </label>
                                    
                                    <!-- Saved Addresses -->
                                    <div id="savedAddressesList" style="margin-bottom: 12px;">
                                        <!-- Will be populated by JavaScript -->
                                    </div>
                                    
                                    <!-- New Address Input -->
                                    <div id="newAddressInput" style="display: none;">
                                        <input 
                                            type="text" 
                                            id="deliveryAddress"
                                            placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß (s·ªë nh√†, ƒë∆∞·ªùng, ph∆∞·ªùng/x√£, qu·∫≠n/huy·ªán, t·ªânh/th√†nh ph·ªë)"
                                            style="width: 100%; padding: 12px 16px; border: 1px solid #D0D0D0; border-radius: 4px; font-size: 14px; font-weight: 500; color: #1A1A1A; margin-bottom: 8px;"
                                        >
                                    </div>
                                    
                                    <!-- Add New Address Button -->
                                    <button 
                                        type="button" 
                                        id="addNewAddressBtn"
                                        onclick="toggleNewAddressInput()"
                                        style="padding: 10px 16px; background: #FFFFFF; border: 1px solid #D0D0D0; border-radius: 4px; font-size: 13px; font-weight: 600; color: #666666; cursor: pointer; display: flex; align-items: center; gap: 8px; margin-bottom: 12px; transition: all 0.2s ease;"
                                    >
                                        <svg style="width: 16px; height: 16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                                        </svg>
                                        <span>Th√™m ƒë·ªãa ch·ªâ m·ªõi</span>
                                    </button>
                                    
                                    <div style="background: #EFF6FF; border: 1px solid #BFDBFE; border-left: 4px solid #3B82F6; padding: 12px; border-radius: 4px;">
                                        <div style="font-size: 12px; color: #1E40AF; line-height: 1.6;">
                                            <strong>üìç L∆∞u √Ω:</strong> Ph√≠ giao xe s·∫Ω ƒë∆∞·ª£c t√≠nh d·ª±a tr√™n kho·∫£ng c√°ch t·ª´ showroom ƒë·∫øn ƒë·ªãa ch·ªâ c·ªßa b·∫°n. Nh√¢n vi√™n s·∫Ω li√™n h·ªá x√°c nh·∫≠n chi ph√≠ tr∆∞·ªõc khi giao xe.
                                        </div>
                                    </div>
                                </div>

                                <!-- Notes -->
                                <div style="margin-bottom: 0;">
                                    <label style="display: block; font-size: 13px; font-weight: 700; color: #1A1A1A; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        Ghi ch√∫ (kh√¥ng b·∫Øt bu·ªôc)
                                    </label>
                                    <textarea 
                                        id="pickupNotes"
                                        rows="3"
                                        placeholder="Ghi ch√∫ th√™m cho showroom (n·∫øu c√≥)"
                                        style="width: 100%; padding: 12px 16px; border: 1px solid #D0D0D0; border-radius: 4px; font-size: 14px; font-weight: 500; color: #1A1A1A; resize: vertical; font-family: inherit;"
                                    ></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Warning Box -->
                        <div style="background: #FFFBEB; border: 1px solid #FDE68A; border-left: 4px solid #F59E0B; padding: 16px 20px; border-radius: 4px;">
                            <div style="display: flex; gap: 12px;">
                                <svg style="width: 20px; height: 20px; color: #F59E0B; flex-shrink: 0; margin-top: 2px;" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <div>
                                    <div style="font-size: 13px; font-weight: 700; color: #92400E; margin-bottom: 4px;">‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</div>
                                    <div style="font-size: 13px; color: #78350F; line-height: 1.6;">
                                        L·ªãch l·∫•y xe l√† l·ªãch <strong>d·ª± ki·∫øn</strong>. Th·ªùi gian ch√≠nh th·ª©c s·∫Ω ƒë∆∞·ª£c x√°c nh·∫≠n sau khi ho√†n t·∫•t h·ª£p ƒë·ªìng mua b√°n v√† c√°c th·ªß t·ª•c li√™n quan.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Method -->
                        <div class="corporate-card">
                            <div class="corporate-card-header">
                                <h3 class="section-title" style="margin: 0;">Ph∆∞∆°ng th·ª©c ƒë·∫∑t c·ªçc</h3>
                            </div>
                            <div class="corporate-card-body">
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="payment-method">
                                        <input type="radio" id="bank" name="payment" value="bank" style="display: none;">
                                        <label for="bank" style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                                            <div style="width: 20px; height: 20px; border: 2px solid #D0D0D0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                <div style="width: 10px; height: 10px; background: #CB3634; border-radius: 50%; display: none;" class="radio-dot"></div>
                                            </div>
                                            <span style="font-size: 14px; font-weight: 600; color: #1A1A1A;">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</span>
                                        </label>
                                    </div>
                                    
                                    <div class="payment-method">
                                        <input type="radio" id="vnpay" name="payment" value="vnpay" style="display: none;">
                                        <label for="vnpay" style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                                            <div style="width: 20px; height: 20px; border: 2px solid #D0D0D0; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                <div style="width: 10px; height: 10px; background: #CB3634; border-radius: 50%; display: none;" class="radio-dot"></div>
                                            </div>
                                            <span style="font-size: 14px; font-weight: 600; color: #1A1A1A;">VNPay</span>
                                        </label>
                                    </div>
                                    
                                    <div class="payment-method">
                                        <input type="radio" id="showroom" name="payment" value="showroom" checked style="display: none;">
                                        <label for="showroom" style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                                            <div style="width: 20px; height: 20px; border: 2px solid #CB3634; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                <div style="width: 10px; height: 10px; background: #CB3634; border-radius: 50%;" class="radio-dot"></div>
                                            </div>
                                            <span style="font-size: 14px; font-weight: 600; color: #1A1A1A;">Thanh to√°n t·∫°i showroom</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Confirmation -->
                        <div class="corporate-card">
                            <div class="corporate-card-body">
                                <div class="checkbox-container">
                                    <input type="checkbox" id="confirmCheckbox">
                                    <label for="confirmCheckbox" style="font-size: 14px; color: #333333; line-height: 1.6; cursor: pointer; font-weight: 500;">
                                        T√¥i x√°c nh·∫≠n ƒë√£ ƒë·ªçc, hi·ªÉu v√† ƒë·ªìng √Ω v·ªõi c√°c ƒëi·ªÅu kho·∫£n ƒë·∫∑t c·ªçc mua xe. T√¥i ƒë·ªìng √Ω v·ªõi l·ªãch l·∫•y xe d·ª± ki·∫øn v√† cam k·∫øt ho√†n t·∫•t c√°c th·ªß t·ª•c c·∫ßn thi·∫øt tr∆∞·ªõc ng√†y nh·∫≠n xe.
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <button 
                                id="depositBtn"
                                onclick="handleDeposit()"
                                disabled
                                class="btn-primary"
                                style="width: 100%;"
                            >
                                X√ÅC NH·∫¨N ƒê·∫∂T C·ªåC
                            </button>
                            
                            <button 
                                onclick="window.history.back()"
                                class="btn-secondary"
                                style="width: 100%;"
                            >
                                Quay l·∫°i chi ti·∫øt l·ªãch xem xe
                            </button>
                        </div>

                    </div>

                </div>

            </div>

        </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none; position: fixed; inset: 0; z-index: 9999; align-items: center; justify-content: center;">
        <div style="background: #FFFFFF; border-radius: 6px; padding: 48px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); text-align: center; max-width: 400px; margin: 0 16px;">
            <div class="loading-spinner" style="margin: 0 auto 24px;"></div>
            <h3 style="font-size: 20px; font-weight: 700; color: #1A1A1A; margin-bottom: 8px;">ƒêang x·ª≠ l√Ω giao d·ªãch</h3>
            <p style="font-size: 14px; color: #666666;">Vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>
        </div>
    </div>

    <!-- FOOTER -->
    <footer style="background: #1A1A1A; color: #999999; margin-top: 80px; border-top: 1px solid #333333;">
        <div class="container mx-auto px-4" style="padding-top: 40px; padding-bottom: 40px;">
            <div style="text-align: center;">
                <div style="display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 16px;">
                    <div style="width: 36px; height: 36px; background: #CB3634; border-radius: 4px; display: flex; align-items: center; justify-content: center;">
                        <svg style="width: 20px; height: 20px; color: #FFFFFF;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                    </div>
                    <span style="font-size: 20px; font-weight: 700; color: #FFFFFF;">CarShop</span>
                </div>
                <p style="font-size: 13px; color: #666666;">&copy; 2024 CarShop. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="deposit.js"></script>
</body>
</html>
